"use strict";(self.webpackChunkfrontend_react=self.webpackChunkfrontend_react||[]).push([[784],{92784:(e,t,a)=>{a.r(t),a.d(t,{default:()=>U});var n=a(89379),r=a(65043),i=a(3260),o=a(58128),s=a(26887),l=a(29651),p=a(53969),c=a(78403),d=a(49679),x=a(60267),m=a(86995),g=a(23182),h=a(42579),u=a(55895),f=a(26529),A=a(17873),b=a(4395),y=a(47471),j=a(79801),v=a(94527),k=a(47548),w=a(95315),C=a(82394),S=a(66185),X=a(87721),R=a(49982),W=a(89685),I=a(80699),z=a(64321),L=a(65979),E=a(13106),P=a(2628),T=a(99130),M=a(50903),O=a(31274),H=a(90160),_=a(65767),D=a(29066),F=a(70579);const B="/assets/images/default-avatar.png",G=240,N=(0,o.Ay)("main",{shouldForwardProp:e=>"open"!==e})((e=>{let{theme:t,open:a}=e;return(0,n.A)({flexGrow:1,padding:t.spacing(3),transition:t.transitions.create("margin",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),marginLeft:"-".concat(G,"px")},a&&{transition:t.transitions.create("margin",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen}),marginLeft:0})})),Y=(0,o.Ay)(s.A,{shouldForwardProp:e=>"open"!==e})((e=>{let{theme:t,open:a}=e;return(0,n.A)({transition:t.transitions.create(["margin","width"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),backgroundImage:"linear-gradient(to right, ".concat(t.palette.primary.main,", ").concat(t.palette.primary.dark,")"),boxShadow:"0 2px 10px ".concat((0,l.X4)(t.palette.primary.main,.5))},a&&{width:"calc(100% - ".concat(G,"px)"),marginLeft:"".concat(G,"px"),transition:t.transitions.create(["margin","width"],{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen})})})),Z=(0,o.Ay)("div")((e=>{let{theme:t}=e;return(0,n.A)((0,n.A)({display:"flex",alignItems:"center",padding:t.spacing(0,1)},t.mixins.toolbar),{},{justifyContent:"flex-end"})})),q=(0,o.Ay)(p.A)((e=>{let{theme:t}=e;return(0,n.A)((0,n.A)({display:"flex",alignItems:"center",padding:t.spacing(2,2)},t.mixins.toolbar),{},{justifyContent:"center",borderBottom:"1px solid ".concat((0,l.X4)(t.palette.primary.main,.15)),backgroundColor:(0,l.X4)(t.palette.primary.main,.05),boxShadow:"0 2px 8px ".concat((0,l.X4)(t.palette.primary.main,.08)),position:"relative","&::after":{content:'""',position:"absolute",bottom:0,left:"10%",right:"10%",height:"2px",background:"linear-gradient(90deg, transparent, ".concat((0,l.X4)(t.palette.primary.main,.6),", transparent)")}})})),J=(0,o.Ay)(c.A)((e=>{let{theme:t}=e;return{borderRadius:"8px",margin:"4px 8px",padding:"8px 12px",transition:"all 0.2s ease-in-out","&:hover":{backgroundColor:(0,l.X4)(t.palette.primary.main,.08),transform:"translateX(4px)"},"&.Mui-selected":{backgroundColor:(0,l.X4)(t.palette.primary.main,.15),"&:hover":{backgroundColor:(0,l.X4)(t.palette.primary.main,.2)},"&::before":{content:'""',position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",height:"60%",width:"4px",backgroundColor:t.palette.primary.main,borderRadius:"0 4px 4px 0"}}}})),K=(0,o.Ay)(d.A)((e=>{let{theme:t}=e;return{backgroundColor:"transparent",color:t.palette.text.secondary,fontSize:"0.75rem",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.5px",lineHeight:"1.5rem",paddingLeft:t.spacing(3),marginTop:t.spacing(1)}})),Q=[{title:"\u6982\u89c8",items:[{text:"\u4eea\u8868\u76d8",icon:(0,F.jsx)(X.A,{}),path:"/dashboard"}]},{title:"\u6559\u5b66\u7ba1\u7406",items:[{text:"\u5b66\u751f\u7ba1\u7406",icon:(0,F.jsx)(R.A,{}),path:"/student-management"},{text:"\u73ed\u7ea7\u7ba1\u7406",icon:(0,F.jsx)(W.A,{}),path:"/class-management"},{text:"\u5b66\u79d1\u7ba1\u7406",icon:(0,F.jsx)(I.A,{}),path:"/subject-management"}]},{title:"\u8003\u52e4\u6210\u7ee9",items:[{text:"\u8003\u8bd5\u7ba1\u7406",icon:(0,F.jsx)(z.A,{}),path:"/exam-management"},{text:"\u6210\u7ee9\u7ba1\u7406",icon:(0,F.jsx)(L.A,{}),path:"/score-management"},{text:"\u6210\u7ee9\u7edf\u8ba1",icon:(0,F.jsx)(E.A,{}),path:"/score-statistics"},{text:"\u8bf7\u5047\u7ba1\u7406",icon:(0,F.jsx)(P.A,{}),path:"/leave-management"},{text:"\u8bf7\u5047\u7edf\u8ba1",icon:(0,F.jsx)(E.A,{}),path:"/leave-statistics"},{text:"\u5956\u52b1\u8868\u5f70",icon:(0,F.jsx)(T.A,{}),path:"/reward-management"}]},{title:"\u7cfb\u7edf\u8bbe\u7f6e",items:[{text:"\u7528\u6237\u7ba1\u7406",icon:(0,F.jsx)(M.A,{}),path:"/user-management",role:["ROLE_ADMIN","ROLE_HEADTEACHER"]}]}],U=()=>{const e=(0,x.A)(),t=(0,i.Zp)(),a=(0,i.zy)(),n=(0,m.A)(e.breakpoints.down("md")),{user:o,logout:s}=(0,D.As)(),[c,d]=(0,r.useState)(!n),[X,R]=(0,r.useState)(null),I=()=>{d(!c)},z=()=>{R(null)};return(0,F.jsxs)(p.A,{sx:{display:"flex"},children:[(0,F.jsx)(Y,{position:"fixed",open:c,children:(0,F.jsxs)(g.A,{sx:{display:"flex",justifyContent:"space-between",height:"64px",px:{xs:2,sm:3}},children:[(0,F.jsxs)(p.A,{sx:{display:"flex",alignItems:"center"},children:[(0,F.jsx)(h.A,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:I,sx:{mr:2,backgroundColor:(0,l.X4)("#fff",.1),"&:hover":{backgroundColor:(0,l.X4)("#fff",.2)}},children:(0,F.jsx)(O.A,{})}),(0,F.jsxs)(u.A,{variant:"h6",noWrap:!0,component:"div",sx:{fontWeight:600,letterSpacing:"0.5px",textShadow:"0 1px 2px rgba(0,0,0,0.2)",display:"flex",alignItems:"center"},children:[(0,F.jsx)(W.A,{sx:{mr:1,fontSize:"1.8rem",display:{xs:"none",sm:"block"}}}),"\u73ed\u4e3b\u4efb\u7ba1\u7406\u7cfb\u7edf"]})]}),(0,F.jsxs)(p.A,{sx:{display:"flex",alignItems:"center",backgroundColor:(0,l.X4)("#fff",.1),borderRadius:"30px",padding:"4px 16px 4px 8px",boxShadow:"0 2px 8px rgba(0,0,0,0.15)",transition:"all 0.2s","&:hover":{backgroundColor:(0,l.X4)("#fff",.15),boxShadow:"0 4px 12px rgba(0,0,0,0.2)"}},children:[(0,F.jsx)(u.A,{variant:"body1",sx:{mr:2,fontWeight:500,display:{xs:"none",sm:"block"}},children:(null===o||void 0===o?void 0:o.name)||""}),(0,F.jsx)(f.A,{title:"\u8d26\u53f7\u8bbe\u7f6e",children:(0,F.jsx)(h.A,{onClick:e=>{R(e.currentTarget)},sx:{p:.5,border:"2px solid ".concat((0,l.X4)("#fff",.3)),transition:"all 0.2s","&:hover":{border:"2px solid ".concat((0,l.X4)("#fff",.5))}},children:(0,F.jsx)(A.A,{alt:(null===o||void 0===o?void 0:o.name)||"\u7528\u6237",src:(e=>{if(!e)return B;const t=e.toLowerCase();return"male"===t?"/assets/images/default-male-avatar.png":"female"===t?"/assets/images/default-female-avatar.png":B})(null===o||void 0===o?void 0:o.gender),sx:{width:36,height:36}})})}),(0,F.jsxs)(b.A,{id:"menu-appbar",anchorEl:X,anchorOrigin:{vertical:"bottom",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(X),onClose:z,PaperProps:{sx:{mt:1.5,boxShadow:"0 4px 20px rgba(0,0,0,0.15)",borderRadius:"12px",minWidth:"180px","& .MuiMenuItem-root":{px:2,py:1.5,borderRadius:"8px",mx:1,my:.5,"&:hover":{backgroundColor:(0,l.X4)(e.palette.primary.main,.08)}}}},children:[(0,F.jsxs)(y.A,{onClick:()=>{t("/profile"),z()},children:[(0,F.jsx)(j.A,{children:(0,F.jsx)(H.A,{fontSize:"small",color:"primary"})}),(0,F.jsx)(u.A,{variant:"body2",fontWeight:500,children:"\u4e2a\u4eba\u8d44\u6599"})]}),(0,F.jsx)(v.A,{sx:{my:1,mx:2,opacity:.6}}),(0,F.jsxs)(y.A,{onClick:async()=>{console.log("\u8c03\u7528\u9000\u51fa\u767b\u5f55\u529f\u80fd");try{await s(),z(),console.log("\u5bfc\u822a\u5230\u767b\u5f55\u9875"),t("/login",{replace:!0})}catch(e){console.error("\u9000\u51fa\u767b\u5f55\u5931\u8d25:",e)}},children:[(0,F.jsx)(j.A,{children:(0,F.jsx)(_.A,{fontSize:"small",color:"error"})}),(0,F.jsx)(u.A,{variant:"body2",fontWeight:500,color:"error.main",children:"\u9000\u51fa\u767b\u5f55"})]})]})]})]})}),(0,F.jsxs)(k.Ay,{sx:{width:G,flexShrink:0,"& .MuiDrawer-paper":{width:G,boxSizing:"border-box",backgroundImage:"linear-gradient(to bottom, ".concat((0,l.X4)(e.palette.background.default,.8),", ").concat(e.palette.background.default,")")}},variant:n?"temporary":"persistent",anchor:"left",open:c,onClose:n?I:void 0,children:[(0,F.jsx)(q,{children:(0,F.jsxs)(p.A,{sx:{display:"flex",alignItems:"center",background:"linear-gradient(135deg, ".concat((0,l.X4)(e.palette.primary.light,.1),", transparent)"),padding:"8px 12px",borderRadius:"12px"},children:[(0,F.jsx)("img",{src:"https://img.icons8.com/color/48/000000/school.png",alt:"Logo",style:{width:"36px",height:"36px",marginRight:"12px",filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.2))"}}),(0,F.jsxs)(p.A,{children:[(0,F.jsx)(u.A,{variant:"h6",noWrap:!0,component:"div",sx:{fontWeight:"bold",color:e.palette.primary.main,textShadow:"0 1px 2px ".concat((0,l.X4)("#000",.1)),letterSpacing:"0.5px"},children:"\u73ed\u4e3b\u4efb\u7cfb\u7edf"}),(0,F.jsx)(u.A,{variant:"caption",sx:{display:"block",color:e.palette.text.secondary,marginTop:"-4px",letterSpacing:"1px"},children:"CLASS TEACHER"})]})]})}),(0,F.jsx)(p.A,{sx:{overflow:"auto",py:1},children:Q.map(((e,i)=>{const s=e.items.filter((e=>{return!e.role||(!(t=e.role)||!o||(Array.isArray(t)?t.includes(o.role):o.role===t));var t}));return 0===s.length?null:(0,F.jsxs)(r.Fragment,{children:[i>0&&(0,F.jsx)(v.A,{sx:{my:1,mx:2,opacity:.6}}),(0,F.jsx)(K,{children:e.title}),(0,F.jsx)(w.A,{disablePadding:!0,children:s.map((e=>(0,F.jsx)(C.Ay,{disablePadding:!0,children:(0,F.jsxs)(J,{selected:a.pathname===e.path,onClick:()=>{return a=e.path,t(a),void(n&&d(!1));var a},children:[(0,F.jsx)(j.A,{sx:{minWidth:"40px",color:a.pathname===e.path?"primary.main":"text.secondary"},children:e.icon}),(0,F.jsx)(S.A,{primary:e.text,primaryTypographyProps:{fontSize:"0.95rem",fontWeight:a.pathname===e.path?600:400}})]})},e.text)))})]},e.title)}))})]}),(0,F.jsxs)(N,{open:c,children:[(0,F.jsx)(Z,{}),(0,F.jsx)(i.sv,{})]})]})}}}]);
//# sourceMappingURL=784.e4f40103.chunk.js.map